<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Happy Valentine's Day, Boyz!">
    <meta property="og:description" content="You've got a special Valentine's letter waiting for you üíå">
    <meta property="og:image" content="lugo.png">
    <meta property="og:type" content="website">
    <meta name="description" content="A special Valentine's Day surprise for the boyz üíï">
    <link rel="icon" type="image/png" href="lugo.png">
    <title>Happy Valentine's Day, Boyz!</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Permanent+Marker&family=Pacifico&family=Caveat:wght@400;700&family=Patrick+Hand&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            font-family: 'Indie Flower', cursive;
            background: linear-gradient(160deg, #ffb6c1 0%, #ff69b4 30%, #c71585 70%, #8b004f 100%);
        }

        /* PETALS */
        .petals-box {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .petal {
            position: absolute;
            top: -60px;
            animation: fallP linear infinite;
            opacity: .7;
        }

        @keyframes fallP {
            0% {
                transform: translateY(-60px) rotate(0) translateX(0);
                opacity: 0;
            }

            10% {
                opacity: .8;
            }

            90% {
                opacity: .6;
            }

            100% {
                transform: translateY(110vh) rotate(720deg) translateX(80px);
                opacity: 0;
            }
        }

        /* BOKEH */
        .bokeh {
            position: fixed;
            border-radius: 50%;
            filter: blur(40px);
            opacity: .22;
            pointer-events: none;
            z-index: 0;
            animation: bkF 8s ease-in-out infinite alternate;
        }

        @keyframes bkF {
            0% {
                transform: translateY(0) scale(1);
            }

            100% {
                transform: translateY(-40px) scale(1.15);
            }
        }

        /* 3D LOCKER */
        .scene {
            perspective: 1200px;
            width: 340px;
            height: 520px;
            position: relative;
            z-index: 2;
        }

        .locker {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform .12s ease-out;
        }

        .locker-body {
            position: absolute;
            inset: 0;
            transform-style: preserve-3d;
        }

        .locker-body .face {
            position: absolute;
            backface-visibility: hidden;
        }

        .locker-body .back {
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, #6b0035, #3a001a);
            transform: translateZ(-40px);
            box-shadow: inset 0 0 80px rgba(0, 0, 0, .7);
        }

        .locker-body .lw {
            width: 40px;
            height: 100%;
            left: 0;
            top: 0;
            background: linear-gradient(90deg, #a0004a, #7a0038);
            transform-origin: left center;
            transform: rotateY(90deg);
        }

        .locker-body .rw {
            width: 40px;
            height: 100%;
            right: 0;
            top: 0;
            background: linear-gradient(90deg, #7a0038, #a0004a);
            transform-origin: right center;
            transform: rotateY(-90deg);
        }

        .locker-body .tw {
            width: 100%;
            height: 40px;
            top: 0;
            left: 0;
            background: linear-gradient(180deg, #c0005a, #a0004a);
            transform-origin: top center;
            transform: rotateX(-90deg);
        }

        .locker-body .bw {
            width: 100%;
            height: 40px;
            bottom: 0;
            left: 0;
            background: linear-gradient(180deg, #5a0028, #3a001a);
            transform-origin: bottom center;
            transform: rotateX(90deg);
        }

        .locker-inside {
            position: absolute;
            inset: 0;
            transform: translateZ(-39px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
            opacity: 0;
            transition: opacity .8s ease .6s;
        }

        .locker.open .locker-inside {
            opacity: 1;
        }

        .door-group {
            position: absolute;
            inset: 0;
            transform-style: preserve-3d;
            transform-origin: left center;
            transition: transform 1.8s cubic-bezier(.22, 1, .36, 1);
        }

        .locker.open .door-group {
            transform: rotateY(-115deg);
        }

        .door-front {
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, #ff8ec4, #ff5ca0 40%, #e0457a);
            border-radius: 8px;
            transform: translateZ(0);
            box-shadow: inset 3px 3px 10px rgba(255, 255, 255, .3), inset -3px -3px 10px rgba(0, 0, 0, .15), 0 8px 32px rgba(0, 0, 0, .3);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .door-front::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, .25), rgba(255, 255, 255, .05) 40%, rgba(0, 0, 0, .05) 60%, rgba(0, 0, 0, .15));
            pointer-events: none;
            z-index: 1;
        }

        .door-edge-r {
            position: absolute;
            top: 0;
            right: 0;
            width: 18px;
            height: 100%;
            background: linear-gradient(180deg, #d44a80, #a03060);
            transform-origin: right center;
            transform: rotateY(90deg);
            border-radius: 0 8px 8px 0;
        }

        .door-edge-t {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 18px;
            background: linear-gradient(90deg, #ff8ec4, #d44a80);
            transform-origin: top center;
            transform: rotateX(-90deg);
            border-radius: 8px 8px 0 0;
        }

        .door-edge-b {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 18px;
            background: linear-gradient(90deg, #a03060, #7a2050);
            transform-origin: bottom center;
            transform: rotateX(90deg);
        }

        .vents {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            width: 60%;
            z-index: 2;
        }

        .vent {
            height: 5px;
            background: linear-gradient(180deg, rgba(0, 0, 0, .25), rgba(0, 0, 0, .08));
            border-radius: 3px;
            box-shadow: 0 1px 0 rgba(255, 255, 255, .15);
        }

        .handle-area {
            position: absolute;
            right: 14px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 3;
        }

        .handle {
            width: 12px;
            height: 100px;
            background: linear-gradient(90deg, #ddd, #fff 30%, #bbb);
            border-radius: 6px;
            box-shadow: 2px 2px 8px rgba(0, 0, 0, .3), inset 1px 1px 2px rgba(255, 255, 255, .8);
            transition: transform .4s ease;
        }

        .locker.open .handle {
            transform: rotate(-45deg);
        }

        /* COMBO LOCK */
        .lock-container {
            margin-top: auto;
            margin-bottom: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 5;
        }

        .dial-wrapper {
            position: relative;
            width: 160px;
            height: 160px;
        }

        .dial-ring {
            position: absolute;
            inset: 0;
            border-radius: 50%;
            background: conic-gradient(#c0c0c0 0deg, #e8e8e8 30deg, #c0c0c0 60deg, #e8e8e8 90deg, #c0c0c0 120deg, #e8e8e8 150deg, #c0c0c0 180deg, #e8e8e8 210deg, #c0c0c0 240deg, #e8e8e8 270deg, #c0c0c0 300deg, #e8e8e8 330deg, #c0c0c0 360deg);
            box-shadow: 0 4px 15px rgba(0, 0, 0, .4), inset 0 2px 4px rgba(255, 255, 255, .6), inset 0 -2px 4px rgba(0, 0, 0, .2);
        }

        .dial-face {
            position: absolute;
            top: 12px;
            left: 12px;
            right: 12px;
            bottom: 12px;
            border-radius: 50%;
            background: radial-gradient(circle at 40% 35%, #555, #222 70%, #111);
            box-shadow: inset 0 3px 10px rgba(0, 0, 0, .6);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .code-display {
            font-family: 'Courier New', monospace;
            font-size: 28px;
            font-weight: bold;
            color: #ff4488;
            text-shadow: 0 0 10px #ff4488, 0 0 20px #ff448866;
            letter-spacing: 8px;
        }

        .dial-tick {
            position: absolute;
            width: 2px;
            height: 8px;
            background: #666;
            top: 16px;
            left: 50%;
            transform-origin: 50% 68px;
        }

        .dial-marker {
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 12px solid #ff2266;
            filter: drop-shadow(0 2px 3px rgba(0, 0, 0, .4));
            z-index: 10;
        }

        .num-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
            width: 180px;
        }

        .num-btn {
            width: 44px;
            height: 44px;
            border: none;
            border-radius: 50%;
            background: linear-gradient(145deg, #ffe0ec, #ffb0cc);
            color: #8b004f;
            font-size: 18px;
            font-weight: 900;
            font-family: 'Permanent Marker', cursive;
            cursor: pointer;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, .2), -2px -2px 4px rgba(255, 255, 255, .5), inset 0 1px 2px rgba(255, 255, 255, .4);
            transition: all .15s ease;
            position: relative;
            overflow: hidden;
        }

        .num-btn::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 60%;
            height: 40%;
            background: linear-gradient(180deg, rgba(255, 255, 255, .4), transparent);
            border-radius: 50%;
            pointer-events: none;
        }

        .num-btn:hover {
            transform: scale(1.1);
        }

        .num-btn:active {
            transform: scale(.92);
            box-shadow: inset 2px 2px 4px rgba(0, 0, 0, .2);
        }

        .num-btn.clear-btn {
            width: 94px;
            border-radius: 22px;
            font-size: 13px;
            letter-spacing: 1px;
            background: linear-gradient(145deg, #ffc0d0, #ff8aaa);
        }

        .door-rose {
            position: absolute;
            top: 20px;
            left: 16px;
            z-index: 3;
            transform: rotate(-20deg);
        }

        .door-stamp {
            position: absolute;
            bottom: 20px;
            left: 16px;
            z-index: 3;
        }

        .door-sticker {
            position: absolute;
            top: 16px;
            right: 12px;
            z-index: 3;
            transform: rotate(8deg);
        }

        /* ============ ENVELOPE OVERLAY ============ */
        .env-overlay {
            position: fixed;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            pointer-events: none;
            opacity: 0;
            transition: opacity .5s ease;
            background: radial-gradient(ellipse at center, rgba(139, 0, 79, .5), rgba(80, 0, 40, .88));
        }

        .env-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .env-hint {
            font-family: 'Indie Flower', cursive;
            font-size: 20px;
            color: #fce4ec;
            margin-bottom: 24px;
            opacity: 0;
            transition: opacity .5s ease 1.6s;
            text-align: center;
            text-shadow: 0 2px 8px rgba(0, 0, 0, .3);
            letter-spacing: 1px;
        }

        .env-overlay.active .env-hint {
            opacity: 1;
        }

        .env-scene {
            perspective: 1000px;
            width: 420px;
            height: 300px;
            position: relative;
            cursor: pointer;
        }

        .env-3d {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transform: scale(0) rotateX(50deg) rotateZ(-10deg) translateY(300px);
            transition: transform 1.4s cubic-bezier(.34, 1.56, .64, 1);
        }

        .env-3d.enter {
            transform: scale(1) rotateX(0) rotateZ(0) translateY(0);
        }

        .env-3d.opened .env-flap {
            transform: rotateX(-180deg);
            z-index: 1;
        }

        .env-3d.opened .env-wax-seal {
            opacity: 0;
            transform: translate(-50%, -50%) scale(.2) rotate(90deg);
            transition: all .5s ease;
        }

        .env-3d.fade-out {
            opacity: 0;
            transform: scale(.5) rotateZ(8deg) translateY(80px);
            transition: all .9s cubic-bezier(.4, 0, .6, 1);
        }

        /* Envelope body */
        .env-body {
            width: 100%;
            height: 100%;
            position: absolute;
            border-radius: 12px;
            overflow: hidden;
            background: linear-gradient(145deg, #f8bbd0 0%, #f48fb1 50%, #ec407a 100%);
            box-shadow: 0 25px 80px rgba(0, 0, 0, .4), 0 8px 25px rgba(0, 0, 0, .25), inset 0 1px 0 rgba(255, 255, 255, .3);
        }

        /* Paper texture */
        .env-body::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='6' height='6' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='6' height='6' fill='none'/%3E%3Ccircle cx='1' cy='1' r='.5' fill='rgba(0,0,0,0.02)'/%3E%3C/svg%3E");
            pointer-events: none;
        }

        /* Inner shadow border */
        .env-body::after {
            content: '';
            position: absolute;
            inset: 8px;
            border: 2px dashed rgba(255, 255, 255, .15);
            border-radius: 6px;
            pointer-events: none;
        }

        /* Diagonal stripe decoration inside */
        .env-stripe-l,
        .env-stripe-r {
            position: absolute;
            width: 100px;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .env-stripe-l {
            left: 0;
            top: 0;
        }

        .env-stripe-r {
            right: 0;
            top: 0;
        }

        .env-stripe-l::before,
        .env-stripe-r::before {
            content: '';
            position: absolute;
            inset: -20px;
            background: repeating-linear-gradient(45deg, transparent, transparent 8px, rgba(255, 255, 255, .06) 8px, rgba(255, 255, 255, .06) 10px);
        }

        /* Flap (top triangle) */
        .env-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            clip-path: polygon(0 0, 100% 0, 50% 55%);
            background: linear-gradient(180deg, #c2185b 0%, #e91e63 40%, #f06292 100%);
            transform-origin: top center;
            transition: transform 1s cubic-bezier(.4, 0, .2, 1);
            z-index: 5;
            border-radius: 12px 12px 0 0;
        }

        /* Flap inner border */
        .env-flap::after {
            content: '';
            position: absolute;
            inset: 0;
            clip-path: polygon(4% 2%, 96% 2%, 50% 52%);
            background: linear-gradient(180deg, rgba(255, 255, 255, .08), transparent 60%);
            pointer-events: none;
        }

        /* Pocket (bottom V) */
        .env-pocket {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            clip-path: polygon(0 100%, 0 40%, 50% 70%, 100% 40%, 100% 100%);
            background: linear-gradient(180deg, #fce4ec, #f8bbd0 60%, #f48fb1);
            z-index: 7;
        }

        /* Pocket shadow line */
        .env-pocket::before {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            height: 100%;
            clip-path: polygon(0 40%, 50% 70%, 100% 40%, 100% 42%, 50% 72%, 0 42%);
            background: rgba(0, 0, 0, .08);
            z-index: 1;
        }

        /* Side flaps */
        .env-side-l {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            clip-path: polygon(0 0, 50% 50%, 0 100%);
            background: linear-gradient(135deg, #f06292, #ec407a);
            z-index: 2;
        }

        .env-side-r {
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            clip-path: polygon(100% 0, 50% 50%, 100% 100%);
            background: linear-gradient(225deg, #f06292, #ec407a);
            z-index: 2;
        }

        /* Wax Seal */
        .env-wax-seal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            width: 68px;
            height: 68px;
            transition: all .6s ease;
        }

        .wax-outer {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            background: radial-gradient(circle at 35% 35%, #ef5350, #c62828 50%, #8e0000 100%);
            box-shadow: 0 4px 14px rgba(0, 0, 0, .4), 0 2px 4px rgba(0, 0, 0, .2), inset 0 2px 3px rgba(255, 255, 255, .25), inset 0 -2px 3px rgba(0, 0, 0, .3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Wax edge bumps */
        .wax-outer::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            background: radial-gradient(circle at 35% 35%, transparent 60%, rgba(0, 0, 0, .15));
            z-index: -1;
            filter: blur(2px);
        }

        .wax-letter {
            font-family: 'Pacifico', cursive;
            font-size: 26px;
            color: #fce4ec;
            text-shadow: 0 1px 2px rgba(0, 0, 0, .3);
            line-height: 1;
        }

        /* To label ON the envelope (opaque area, not showing through) */
        .env-to-label {
            position: absolute;
            bottom: 18px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 8;
            background: rgba(255, 255, 255, .85);
            padding: 6px 24px;
            border-radius: 4px;
            font-family: 'Caveat', cursive;
            font-size: 20px;
            color: #880e4f;
            font-weight: 700;
            box-shadow: 0 2px 6px rgba(0, 0, 0, .1);
            white-space: nowrap;
            border: 1px solid rgba(136, 14, 79, .1);
        }

        /* From label */
        .env-from-label {
            position: absolute;
            top: 14px;
            left: 18px;
            z-index: 8;
            font-family: 'Caveat', cursive;
            font-size: 14px;
            color: rgba(255, 255, 255, .7);
            font-weight: 700;
        }

        /* Hover glow on envelope */
        .env-scene:hover .env-3d.enter:not(.opened):not(.fade-out) {
            filter: brightness(1.05);
            transform: scale(1.02) rotateX(0) rotateZ(0) translateY(-4px);
        }

        /* ============ LETTER OVERLAY ============ */
        .letter-overlay {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 150;
            pointer-events: none;
            opacity: 0;
            transition: opacity .6s ease;
            background: radial-gradient(ellipse at center, rgba(139, 0, 79, .3), rgba(80, 0, 40, .75));
            overflow-y: auto;
            padding: 30px 10px;
        }

        .letter-and-photos {
            display: flex;
            align-items: flex-start;
            gap: 30px;
            max-width: 900px;
            width: 100%;
            justify-content: center;
        }

        .letter-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .letter {
            width: 400px;
            max-width: 95vw;
            min-height: 540px;
            background: #fffdf5;
            background-image:
                linear-gradient(rgba(200, 180, 170, .15) 1px, transparent 1px),
                repeating-linear-gradient(#fffdf5 0px, #fffdf5 27px, #c8dae8 28px);
            background-size: 100% 28px;
            border-radius: 6px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, .35), 0 5px 15px rgba(0, 0, 0, .2);
            display: flex;
            flex-direction: column;
            padding: 0;
            overflow: visible;
            position: relative;
            transform: scale(0) rotate(-8deg);
            transition: transform .8s cubic-bezier(.34, 1.56, .64, 1);
        }

        .letter-overlay.active .letter {
            transform: scale(1) rotate(-1deg);
        }

        /* Red margin line */
        .letter::before {
            content: '';
            position: absolute;
            top: 0;
            left: 42px;
            width: 2px;
            height: 100%;
            background: rgba(220, 80, 80, .25);
            z-index: 1;
        }

        /* Hole punches */
        .letter::after {
            content: '';
            position: absolute;
            top: 20px;
            left: 8px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(0, 0, 0, .06);
            box-shadow: 0 120px 0 rgba(0, 0, 0, .06), 0 240px 0 rgba(0, 0, 0, .06);
        }

        .letter-inner {
            padding: 24px 24px 28px 54px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .tape {
            position: absolute;
            height: 22px;
            opacity: .7;
            z-index: 10;
        }

        .tape-1 {
            top: -8px;
            left: 20%;
            width: 70px;
            background: rgba(255, 179, 186, .65);
            transform: rotate(-5deg);
        }

        .tape-2 {
            top: -6px;
            right: 20%;
            width: 60px;
            background: rgba(186, 230, 253, .6);
            transform: rotate(4deg);
        }

        .letter-stamp {
            position: absolute;
            top: 10px;
            right: 14px;
            width: 52px;
            height: 62px;
            border: 3px dashed #c62828;
            background: #fff5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transform: rotate(8deg);
            z-index: 2;
            padding: 4px;
        }

        .letter-stamp span {
            font-family: 'Permanent Marker', cursive;
            font-size: 6px;
            color: #c62828;
            text-transform: uppercase;
            line-height: 1.2;
        }

        .coffee-stain {
            position: absolute;
            bottom: 30px;
            right: 25px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid rgba(139, 90, 43, .08);
            opacity: .6;
            z-index: 1;
        }

        .ink-blot {
            position: absolute;
            bottom: 60px;
            left: 50px;
            width: 6px;
            height: 6px;
            background: #333;
            border-radius: 50%;
            opacity: .15;
        }

        .letter-date {
            font-family: 'Patrick Hand', cursive;
            font-size: 14px;
            color: #999;
            text-align: right;
            margin-bottom: 8px;
            padding-right: 60px;
        }

        .letter-dear {
            font-family: 'Caveat', cursive;
            font-size: 26px;
            color: #880e4f;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .letter-body {
            font-family: 'Patrick Hand', cursive;
            font-size: 18px;
            color: #444;
            line-height: 30px;
            flex: 1;
        }

        .letter-closing {
            font-family: 'Patrick Hand', cursive;
            font-size: 19px;
            color: #666;
            margin-top: 14px;
        }

        .letter-signature {
            font-family: 'Pacifico', cursive;
            font-size: 24px;
            color: #c62828;
            margin-top: 6px;
        }

        /* PS line */
        .letter-ps {
            font-family: 'Patrick Hand', cursive;
            font-size: 15px;
            color: #999;
            margin-top: 12px;
            font-style: italic;
        }

        /* ============ PHOTO STRIP (right side) ============ */
        .photo-strip {
            width: 280px;
            min-height: 400px;
            background:
                radial-gradient(circle at 20% 80%, rgba(255, 182, 193, .15), transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 105, 180, .1), transparent 50%),
                linear-gradient(135deg, #3e2723, #4e342e 30%, #3e2723 60%, #4e342e);
            border-radius: 12px;
            padding: 20px 14px;
            box-shadow: inset 0 2px 15px rgba(0, 0, 0, .4), 0 10px 40px rgba(0, 0, 0, .3);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            overflow-y: auto;
            max-height: 80vh;
            position: relative;
            transform: scale(0) rotate(5deg);
            transition: transform .6s cubic-bezier(.34, 1.56, .64, 1) .3s;
        }

        .letter-overlay.active .photo-strip {
            transform: scale(1) rotate(0deg);
        }

        .photo-strip-title {
            font-family: 'Pacifico', cursive;
            font-size: 16px;
            color: #fce4ec;
            text-shadow: 0 2px 8px rgba(0, 0, 0, .4);
            margin-bottom: 4px;
        }

        .photo-strip-line {
            width: 50px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #ff69b4, transparent);
            margin-bottom: 6px;
        }

        /* Polaroid Card */
        .polaroid {
            width: 200px;
            background: #fff;
            padding: 8px 8px 32px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, .35), 0 2px 6px rgba(0, 0, 0, .2);
            transform: rotate(var(--rot, 0deg));
            transition: all .4s cubic-bezier(.34, 1.56, .64, 1);
            cursor: pointer;
            position: relative;
            flex-shrink: 0;
        }

        .polaroid:hover {
            transform: rotate(0deg) scale(1.06) translateY(-5px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, .4), 0 4px 10px rgba(0, 0, 0, .25);
            z-index: 5;
        }

        .polaroid img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            display: block;
            background: linear-gradient(135deg, #f8bbd0, #fce4ec);
            border-radius: 2px;
        }

        .polaroid-caption {
            position: absolute;
            bottom: 8px;
            left: 0;
            right: 0;
            text-align: center;
            font-family: 'Caveat', cursive;
            font-size: 13px;
            color: #888;
        }

        /* Tape on polaroid */
        .polaroid-tape {
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%) rotate(var(--tape-rot, 2deg));
            width: 50px;
            height: 18px;
            opacity: .65;
            z-index: 2;
        }

        .polaroid:nth-child(odd) .polaroid-tape {
            background: rgba(255, 179, 186, .7);
        }

        .polaroid:nth-child(even) .polaroid-tape {
            background: rgba(186, 230, 253, .65);
        }

        .polaroid:nth-child(3n) .polaroid-tape {
            background: rgba(200, 255, 200, .6);
        }

        /* Lightbox */
        .lightbox {
            position: fixed;
            inset: 0;
            z-index: 250;
            background: rgba(0, 0, 0, .92);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity .35s ease;
            cursor: zoom-out;
        }

        .lightbox.active {
            opacity: 1;
            pointer-events: auto;
        }

        .lightbox img {
            max-width: 90vw;
            max-height: 85vh;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 20px 80px rgba(0, 0, 0, .5);
            transform: scale(.8);
            transition: transform .4s cubic-bezier(.34, 1.56, .64, 1);
        }

        .lightbox.active img {
            transform: scale(1);
        }

        .lightbox-caption {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Caveat', cursive;
            font-size: 20px;
            color: #fce4ec;
            text-shadow: 0 2px 8px rgba(0, 0, 0, .5);
        }

        /* ============ RESPONSIVE ============ */
        @media (max-width: 700px) {
            .letter-overlay {
                align-items: flex-start;
                padding: 16px 6px;
            }

            .letter-and-photos {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }

            .letter {
                width: 95vw;
                max-width: 400px;
                min-height: auto;
                transform: scale(0) rotate(-4deg);
            }

            .letter-overlay.active .letter {
                transform: scale(1) rotate(0deg);
            }

            .letter-inner {
                padding: 18px 16px 22px 40px;
            }

            .letter-dear {
                font-size: 22px;
            }

            .letter-body {
                font-size: 15px;
                line-height: 25px;
            }

            .letter-closing {
                font-size: 16px;
            }

            .letter-signature {
                font-size: 20px;
            }

            .letter-date {
                font-size: 12px;
                padding-right: 40px;
            }

            .letter-ps {
                font-size: 12px;
            }

            .letter-stamp {
                width: 40px;
                height: 50px;
                top: 6px;
                right: 8px;
            }

            .letter-stamp span {
                font-size: 5px;
            }

            .letter-stamp svg {
                width: 16px;
                height: 16px;
            }

            .letter::before {
                left: 28px;
            }

            .letter::after {
                left: 5px;
                width: 12px;
                height: 12px;
                top: 16px;
            }

            .photo-strip {
                width: 95vw;
                max-width: 400px;
                max-height: 45vh;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                min-height: auto;
                padding: 14px 10px;
                gap: 12px;
            }

            .photo-strip-title {
                font-size: 14px;
                width: 100%;
                text-align: center;
            }

            .photo-strip-line {
                width: 40px;
            }

            .polaroid {
                width: 130px;
                padding: 6px 6px 26px;
            }

            .polaroid img {
                height: 110px;
            }

            .polaroid-caption {
                font-size: 11px;
                bottom: 6px;
            }

            .polaroid-tape {
                width: 40px;
                height: 14px;
                top: -6px;
            }

            /* Locker scene */
            .scene {
                transform: scale(0.85);
            }

            .lock-container {
                margin-bottom: 50px;
            }

            .close-btn {
                top: 10px;
                right: 10px;
                width: 38px;
                height: 38px;
            }
        }

        @media (max-width: 400px) {
            .letter-inner {
                padding: 14px 12px 18px 34px;
            }

            .letter-dear {
                font-size: 20px;
            }

            .letter-body {
                font-size: 14px;
                line-height: 23px;
            }

            .letter-signature {
                font-size: 18px;
            }

            .letter::before {
                left: 24px;
            }

            .polaroid {
                width: 110px;
                padding: 5px 5px 22px;
            }

            .polaroid img {
                height: 90px;
            }

            .scene {
                transform: scale(0.75);
            }

            .photo-strip {
                max-height: 40vh;
                gap: 10px;
                padding: 12px 8px;
            }
        }


        /* Staggered entrance */
        @keyframes polaroidIn {
            from {
                opacity: 0;
                transform: rotate(var(--rot, 0deg)) translateY(30px) scale(.8);
            }

            to {
                opacity: 1;
                transform: rotate(var(--rot, 0deg)) translateY(0) scale(1);
            }
        }

        /* CONFETTI */
        .confetti-piece {
            position: fixed;
            pointer-events: none;
            z-index: 200;
            will-change: transform;
        }

        /* SHAKE */
        @keyframes shake {

            10%,
            90% {
                transform: translate3d(-2px, 0, 0);
            }

            20%,
            80% {
                transform: translate3d(4px, 0, 0);
            }

            30%,
            50%,
            70% {
                transform: translate3d(-6px, 0, 0);
            }

            40%,
            60% {
                transform: translate3d(6px, 0, 0);
            }
        }

        .shake {
            animation: shake .5s cubic-bezier(.36, .07, .19, .97) both;
        }

        /* WRONG PIN */
        .wrong-hint {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 60;
            font-family: 'Indie Flower', cursive;
            font-size: 16px;
            color: #fce4ec;
            background: rgba(0, 0, 0, .4);
            backdrop-filter: blur(10px);
            padding: 10px 24px;
            border-radius: 30px;
            opacity: 0;
            transition: opacity .4s ease;
            pointer-events: none;
        }

        .wrong-hint.show {
            opacity: 1;
        }

        /* CLOSE BTN */
        .close-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 200;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, .4);
            background: rgba(0, 0, 0, .2);
            backdrop-filter: blur(10px);
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            transition: all .25s ease;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, .2);
            transform: scale(1.1);
        }

        .close-btn svg {
            width: 20px;
            height: 20px;
        }

        /* Float animation for envelope idle */
        @keyframes envFloat {

            0%,
            100% {
                transform: scale(1) rotateX(0) rotateZ(0) translateY(0);
            }

            50% {
                transform: scale(1) rotateX(0) rotateZ(0) translateY(-8px);
            }
        }

        .env-3d.enter {
            animation: envFloat 3s ease-in-out infinite;
            animation-delay: 1.4s;
        }

        .env-3d.enter.opened,
        .env-3d.enter.fade-out {
            animation: none;
        }
    </style>
</head>

<body>

    <div class="bokeh" style="width:200px;height:200px;background:#ff69b4;top:10%;left:5%;"></div>
    <div class="bokeh" style="width:160px;height:160px;background:#fff;top:60%;right:8%;animation-delay:2s;"></div>
    <div class="bokeh" style="width:240px;height:240px;background:#e91e63;bottom:5%;left:30%;animation-delay:4s;"></div>
    <div class="bokeh" style="width:120px;height:120px;background:#ffc1e3;top:25%;right:25%;animation-delay:1s;"></div>

    <div class="petals-box" id="petals"></div>

    <!-- LOCKER -->
    <div class="scene" id="scene">
        <div class="locker" id="locker">
            <div class="locker-body">
                <div class="face back"></div>
                <div class="face lw"></div>
                <div class="face rw"></div>
                <div class="face tw"></div>
                <div class="face bw"></div>
            </div>
            <div class="locker-inside">
                <svg viewBox="0 0 24 24" width="30" height="30" fill="#ff69b4"
                    style="position:absolute;top:20px;left:20px;opacity:.5;transform:rotate(-15deg)">
                    <path
                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                </svg>
            </div>
            <div class="door-group" id="door">
                <div class="door-front">
                    <div class="vents">
                        <div class="vent"></div>
                        <div class="vent"></div>
                        <div class="vent"></div>
                        <div class="vent"></div>
                    </div>
                    <div class="door-rose"><svg width="40" height="50" viewBox="0 0 60 80">
                            <path d="M30 25 C25 10 10 8 8 18 C6 28 20 30 30 25Z" fill="#c62828" />
                            <path d="M30 25 C35 10 50 8 52 18 C54 28 40 30 30 25Z" fill="#d32f2f" />
                            <path d="M30 25 C22 15 15 20 18 28 C21 36 28 32 30 25Z" fill="#e53935" />
                            <path d="M30 25 C38 15 45 20 42 28 C39 36 32 32 30 25Z" fill="#ef5350" />
                            <path d="M30 25 C28 18 24 22 26 28 C28 34 30 30 30 25Z" fill="#b71c1c" />
                            <path d="M30 30 Q29 55 28 75" stroke="#388e3c" stroke-width="3" fill="none" />
                            <path d="M28 50 Q20 42 18 45 Q16 48 24 52" fill="#4caf50" />
                        </svg></div>
                    <div class="door-stamp">
                        <div
                            style="width:55px;height:65px;border:3px dashed #c62828;background:#fff5f5;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4px;transform:rotate(-5deg)">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="#c62828">
                                <path
                                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                            </svg><span
                                style="font-family:'Permanent Marker';font-size:6px;color:#c62828;margin-top:2px;">VALENTINE'S</span><span
                                style="font-family:'Permanent Marker';font-size:8px;color:#c62828;">MAIL</span>
                        </div>
                    </div>
                    <div class="door-sticker">
                        <div
                            style="width:65px;height:45px;background:linear-gradient(135deg,#fce4ec,#f8bbd0);border-radius:4px;display:flex;align-items:center;justify-content:center;box-shadow:2px 2px 6px rgba(0,0,0,.15);padding:4px;">
                            <span
                                style="font-family:'Permanent Marker';font-size:10px;color:#c62828;text-align:center;line-height:1.2;">LOVE<br>YOU</span>
                        </div>
                    </div>
                    <div class="lock-container">
                        <div class="dial-wrapper">
                            <div class="dial-ring"></div>
                            <div class="dial-face">
                                <div class="code-display" id="display">----</div>
                            </div>
                            <div class="dial-marker"></div>
                            <div id="ticks"></div>
                        </div>
                        <div class="num-buttons">
                            <button class="num-btn" data-val="1">1</button><button class="num-btn"
                                data-val="2">2</button><button class="num-btn" data-val="3">3</button>
                            <button class="num-btn" data-val="4">4</button><button class="num-btn"
                                data-val="5">5</button><button class="num-btn" data-val="6">6</button>
                            <button class="num-btn" data-val="7">7</button><button class="num-btn"
                                data-val="8">8</button><button class="num-btn" data-val="9">9</button>
                            <button class="num-btn clear-btn" data-val="clear">CLEAR</button><button class="num-btn"
                                data-val="0">0</button>
                        </div>
                    </div>
                    <div class="handle-area">
                        <div class="handle"></div>
                    </div>
                </div>
                <div class="door-edge-r"></div>
                <div class="door-edge-t"></div>
                <div class="door-edge-b"></div>
            </div>
        </div>
    </div>

    <!-- ENVELOPE OVERLAY -->
    <div class="env-overlay" id="env-overlay">
        <p class="env-hint">‚úâÔ∏è Tap the envelope to open your letter ‚úâÔ∏è</p>
        <div class="env-scene" id="env-click-area">
            <div class="env-3d" id="envelope">
                <!-- Flap (opens upward) -->
                <div class="env-flap"></div>
                <!-- Side flaps (visible behind body) -->
                <div class="env-side-l"></div>
                <div class="env-side-r"></div>
                <!-- Main body -->
                <div class="env-body">
                    <div class="env-stripe-l"></div>
                    <div class="env-stripe-r"></div>
                </div>
                <!-- Pocket (covers bottom, hides contents) -->
                <div class="env-pocket"></div>
                <!-- Wax Seal -->
                <div class="env-wax-seal" id="env-wax-seal">
                    <div class="wax-outer">
                        <span class="wax-letter">JV</span>
                    </div>
                </div>
                <!-- Labels -->
                <div class="env-from-label">From: JV</div>
                <div class="env-to-label" id="env-to">To: Adrian</div>
            </div>
        </div>
    </div>

    <!-- LIGHTBOX -->
    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <img id="lightbox-img" src="" alt="">
        <p class="lightbox-caption" id="lightbox-caption"></p>
    </div>

    <!-- LETTER OVERLAY -->
    <div class="letter-overlay" id="letter-overlay">
        <div class="letter-and-photos">
            <div class="letter" id="letter">
                <div class="tape tape-1"></div>
                <div class="tape tape-2"></div>
                <div class="letter-stamp">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="#c62828">
                        <path
                            d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                    </svg>
                    <span>Valentine's</span><span>Day 2026</span>
                </div>
                <div class="coffee-stain"></div>
                <div class="ink-blot"></div>
                <div class="letter-inner">
                    <p class="letter-date">February 14, 2026</p>
                    <p class="letter-dear" id="letter-dear">Dear Adrian,</p>
                    <div class="letter-body" id="letter-body"></div>
                    <p class="letter-closing">Happy Valentine's Day!</p>
                    <p class="letter-signature">‚Äî JV</p>
                    <p class="letter-ps">P.S. You're stuck with me, bro. No refunds. üíï</p>
                </div>
            </div>
            <!-- PHOTO STRIP -->
            <div class="photo-strip" id="photo-strip">
                <div class="photo-strip-title">üì∏ Our Moments</div>
                <div class="photo-strip-line"></div>
                <div id="photo-strip-grid"></div>
            </div>
        </div>
    </div>

    <!-- CLOSE BUTTON -->
    <button class="close-btn" id="close-btn" onclick="closeLetter()">
        <svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round">
            <path d="M18 6L6 18M6 6l12 12" />
        </svg>
    </button>

    <!-- WRONG PIN HINT -->
    <div class="wrong-hint" id="wrong-hint">Wrong PIN! Try again.</div>

    <!-- Background Music -->
    <audio id="bg-music" preload="auto" loop>
        <source src="sound.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Photo folder mapping (folder name for each person)
        const PHOTO_FOLDERS = {
            "Adrian": "Adrian",
            "Ballian": "Ballian",
            "Nathaniel Orlina": "NathanielOrlina",
            "CJ": "CJ",
            "Lawrence": "Lawrence",
            "Jhai": "Jhai",
            "Gabo": "Gabo",
            "Jake": "Jake",
            "Pat": "Pat",
            "Lance": "Lance",
            "Niel": "Niel",
            "Rain": "Rain",
            "Shawn Vincent": "ShawnVincent",
            "Shawn Yash": "ShawnYash"
        };

        // Photo lists per person ‚Äî ADD YOUR FILENAMES HERE
        // Example: "Adrian": ["pic1.jpg", "pic2.jpg", "hangout.png"]
        const PHOTO_FILES = {
            "Adrian": ["image.png", "image copy.png", "image copy 2.png"],
            "Ballian": ["image.png", "image copy.png", "image copy 2.png"],
            "Nathaniel Orlina": ["image.png", "image copy.png", "image copy 2.png"],
            "CJ": ["image.png", "image copy.png", "image copy 2.png"],
            "Lawrence": ["image.png", "image copy.png", "image copy 2.png"],
            "Jhai": ["image.png", "image copy.png", "image copy 2.png"],
            "Gabo": ["image.png", "image copy.png", "image copy 2.png"],
            "Jake": ["image.png", "image copy.png", "image copy 2.png"],
            "Pat": ["image.png", "image copy.png", "image copy 2.png"],
            "Lance": ["image.png", "image copy.png", "image copy 2.png"],
            "Niel": ["image.png", "image copy.png", "image copy 2.png"],
            "Rain": ["image.png", "image copy.png", "image copy 2.png"],
            "Shawn Vincent": ["image.png", "image copy.png", "image copy 2.png"],
            "Shawn Yash": ["image.png"]
        };

        const PEOPLE = {
            "Adrian": { pin: "1156", letter: `To the person whom I personally favor as my best friend. Happyyyyyy Valentinesss Man! You deserve the world and all the love that you have yet to receive. I want to thank you for everything lalo na at ikaw ang laging sandigan pag may mga problema or mga chuchu, even if sometimes is may mga pagkakatalo-talo pero shempre naman that's normal when it comes to a healthy friendship.\n\nI wish you allllll the luckkkkk for everything na planuhin mo sa buhay and also idagdag ko na at shempre valentines naman is yung lovelife mooo AHHAHAHAHA bawas sawi member sana tayo man, wag na magiging leader ng gang AHAHHAHAH.\n\nHappy Valentinessss BFFFF LABYUUUU` },
            "Ballian": { pin: "0842", letter: `Sana seryusuhin mo naman tong hayp na message baka sabihin mo jejemon ah AHAHAHAHHAHA. PREEE HAPPY VALENTINESSS thankssss for being part of the group and being a great addition para samin at lalong nadagdagan ang mga kalahati ng isang john patrick sumarap AHAHAHAHAHA.\n\nI hopeeee is sana mabawasan na ang kamalasan mo sa buhay and alwayssss stay how cheerful you are kasi pre di bagay sayo pag nonchalant ka anlala para kang bading non ya AHHAHAAHAHAH.\n\nLABYU TOL` },
            "Nathaniel Orlina": { pin: "1223", letter: `THE CUTESTTTTTT ikaw ang no.1 cute si rain ang no.69 HAPPY VALENTINES BABY BOIII ALWAYS KNOWWW NA I LOVE YOU AND WE LOVEEE YOUUU.\n\nWhenever may problems kaaa I know na you are not readyy yet to be that kind of vulnerableee pero that's pretty okay kasi ganon naman talagaaa ang buhay we have all our own conditionsss.\n\nSa lagi ko ngang sabi I hope is for you to find your joy and motivation in lifeee! Wag sana mawawala ang drive mo sa buhay mannn isa ka sa amingg love, joy and hope our cutiepie labuyuu peanatchi!` },
            "CJ": { pin: "1315", letter: `Ang pinakacharismatic na taong nakilala kooo! Happy Valentinessss sayooo mannn I hope is ipagpatuloy mo pa ang pagiging open sa discussions and pagiging open sa opinions ng mga tao. We love you for the wayyy you areee with both the intelligience and the humorrr iba ka man isa kang mala ultra mega pro max mutation ni kilooo. AHHAHAAHAHAHAAH\n\nMore gains and muscles to come and I hope that lalo kapang pumaldo sa mga ginagawa mong negosyo and sana makabalato kami. Thank you for being such a good friend! A friend na hindi takot komprontahin ang sino man no matter what if alam talagang may mali o may tama.\n\nHAPPYY VALENTINESSSS LUV YOU MAN!` },
            "Lawrence": { pin: "0852", letter: `The devil slayer, the devil slayer of KYLA AUGHNO AHAHAHHAAHAA. Thank you for everything especially sa joy na binibigay moooo AHHAHAAHA isa kang hanep na comedian talaga man para kang si takaba and si aungon si kenjaku sana ay lalo mo pang ipakita ang iyong BOONGALING AHHAAHHAHAHAAH.\n\nPero anyways kidding aside, loveee you mann for all the moments that we have spent together siguro college wont be that much bearable kung wala ang isang taong katulad mo sana lalo pa nating mapaimik ang ating mahiwagang si jake.\n\nAlways stay funny and loko-lokoooo yan talaga ang branding mo man and sana more jokes pa na hindi kayang icounter ng gpt or google AHHAAHAHAHA. HAPPY VALENTINESSS HOPING FOR SUCCESSSSS AND LUCKKK!` },
            "Jhai": { pin: "1555", letter: `Well saan nga ba ako magsisimula AHHAAHAHHA. Happy Valentines Man I hope you know na in my eyes ikaw ang isa sa pinakamabait na nakilala ko sa mundo na I cannot even try to explain more further alam mo yung tipong pagnakasosyo ka napakagaan ng aura mo and so pure.\n\nLabyu man always stay inlove and always stay how pure and kind you are and shempre iwas abuso sa mga tao! Thank you for being one of my first friends in college iba talaga ang naging takbo ng buhay ko mula nung nakilala kayo.\n\nSana wag nating makalimutan ang isa't isa and alwaysssss wag mahihiya na magtanong sa amin because we got each other's back mah boy. HAPPY BALENTANYS LABYU` },
            "Gabo": { pin: "1413", letter: `ETOOO NA GABOBITS ikaw ang isa sa taong alam ko nung una palang kahit di tayo magkaklase is alam kong magciclick tayo AHAHAHAHAHA. HAPPY VALENTINESS gabubits!\n\nNapakabuti at napakainosente mong tao super AHHAAHAHHAAHAHAH kayo talaaga ang best duo ni jake. Pag naiisip ko ang pagjojoke ikaw agad ang naiisip ko at alam kong sayo bentang-benta ang mga matatalinhagang salita ko.\n\nI hope is sana malaman mo na you are very much appreciated man! Wag laging mahihiya magtanong and ask for help samin isa ka sa mga part ng ating kulto. Happy Valentines ulitttt labyu bebi boi` },
            "Jake": { pin: "2236", letter: `Taenamo wag ka kikiligin ah. HaPPYYYYY VALENTINESSSSSSS AHAHHAHAHAH sana wag kana masyado mahiya sakin and sana ilabas mo pa lalo ang walangyang side or alter ego mo AHAHAHHAHAHAA.\n\nHANEP NAYAN tinuturing kitang bff ko pero tinuturing mo akong kalaban. Pero anyways thanks for being part of our group man and shempre for being such a great addition sa ating team. Nawa'y maadiscover pa namin more and more kung ano ang merong sayo.\n\nTANDAANNN MOOOOO na lagi kami andito at lalo na ako wag ka mahiya magtanong hanep lalo na pag mga computer relateddd pansin ko ay iniintay mo pa akong lalapit para magpatulong AHAHAHAH di ka naman iba boi always askkkk and always know na ikaw ay laging pinapansin namin. HAPPY VALENTINESSS ANDD I HOPE MAS MAKILALA KA PA BETTTERRRRR!` },
            "Pat": { pin: "1858", letter: `AHHAAHAHAHHAAH UNANG UNA SA LAHAT ang ating bida ay shempre hindi mawawalan ng kanyang letter. LABYU MAN pagpasensyahan mo na ang lahat ng meme na nagawa sayo yun naman ay part ng branding mo AHAHAHAHAHAHA.\n\nThanks for being such a good friend and alam mo ba tumatak ka sakin one time as a friend na napakaconservative tanda mo pa ba nung umamin ako kay ayella alam mo bang ikaw lang yung nag iisang nagchat sa pm na binati ako and pinuri sa pagiging brave sa feelings ko. Don palang alam ko na na iba talaga ang intellect mo walang loko pre AHHAHAHAHAAHAH.\n\nNawa ay mahanap mo na ang literal na true love mo utas na lagi at andami na nashiship sayo wala ng sumakses. HAPPY VALENTINES SAYO KAIBIGANG OSO ANG BRANDING NAMEN LABYU` },
            "Lance": { pin: "0834", letter: `Ang aminggggg introverty nginig boy AHHAHHAHHA. Happy Valentines pre always kong nireremind sayo na andine lang kami palagi pag may need ka and I appreciate the way you improved yourself this past weeks and months lalo na at sa mga napagusapan natin na malalalim about sa sarili and masaya ako at naapply mo.\n\nThanks for letting me feel na isa ako sa mga pinagkakatiwalaang mga kaibigan mo sana tandaan mo na if kaya kitang tulungan tutulungan kita.\n\nSabay sabay tayong aangat and sana sabay tayong pumaldo sa buhay and sa lablayp kahit alam kong paldo kana sa part nayon AHHAHAHAHA. HAPPY VALENTINES BAI LABYU` },
            "Niel": { pin: "1550", letter: `Potaenamo man first word 2 rhymes parang echo ni chuchay kumain ng mami at siomais. DE JOKE LANG Happy Valentines pre gusto lang kitang pasalamatan and sana malaman mo na inaappreciate ko na naging kaibigan kita na napakasiraulo mo.\n\nSalamat at isa ka lagi sa mga nagbibigay daan para mamersonal or mabuksan ang daan patungo sa mga usapan na napakaaalalim and may mapagtotoonan ng aral. Thanks sa lahat sa acads kasi willing ka magturo at di ka pala judge ng tao except si patrick.\n\nLABYU MAN TAndaan mo palagi na isa ka sa mga nirerespeto kong tao at mataas ang tingin ko sayo. Happy Valentinessssss KALBO!` },
            "Rain": { pin: "1146", letter: `Una sa lahat isa kadin sa mga tinuturing ko na napakagaling na tao when it comes to communicating feelings and shempre sa pakiramdam. HAPPYYY HAPPPY VALENTINES SAYO MAN.\n\nSana tandaan mo palagi na andito lang ako kapag may kailangan ka and thank you kasi andami mong inoopen up sakin na nagiging ending ng mga malalalim na usapan and I hope you know na isa ka sa center our foundation ng group natin.\n\nAlways know na I appreciate you a lot walang korni korni ah AHAHAHAAHAH. Thank you for being a great companion and a friend anyone can ever expect. Sana is pumaldo tayo and marating ang mga gusto natin sa buhay kahit na wala ba tayong buong plano. LABYU so much HAPPY VALENTINES!` },
            "Shawn Vincent": { pin: "0625", letter: `Pre unang-una sa lahat is happyyy happy valentines, Thank you for always being there lalo na sa mga random na usapan AHAHAHAHAHAH.\n\nI appreciate yung mga efforts na binibigay mo sa mga groupings lalo na nung time na kasama kita isa ka sa mga goat bai. I appreciate you a lot and sana wag nating kakalimutan etong pagkakaibigan natin isa ka sa mga OG MAN ang mga kasama sa paglipad ng eroplano.\n\nI hope you'll realize by a lot on how such a great person you areee taenang yan talentadong pinoy si ropa sana all AHHAHAHAHHAH. HAPPY VALENTINES PRE LABYU` },
            "Shawn Yash": { pin: "1317", letter: `HAPPYY HAPPY VALENTINESSS SAYO MAN. Inaappreciate ko yung mga opinyon na binibigay mo sa mga discussions and pagiging open mo sa amin!\n\nNapakalupet mo man and hanga ako sayo kumabaga isa kang hidden goat na talagang lowkey lang sa mga knowledge and talent shit and biruin mo even gaming is kaya makipagsabayan.\n\nIsa ka sa mga hinahangaaan ko man and sana is mas makilala pa kita much more better and sana is maging masaya kapa sa mga laro mo AHAHAHAHA TERRARIA NA AKO NA TO MELEE MAIN NA DI MAKAABOT NG HARDMODE HAHAHAHHAH LABYU HAPPY VALENTINES` }
        };

        // Build PIN lookup
        const PIN_LOOKUP = {};
        for (const [name, data] of Object.entries(PEOPLE)) {
            PIN_LOOKUP[data.pin] = name;
        }

        // STATE
        let currentCode = "";
        let isLocked = true;
        let selectedName = "";
        let envelopeClicked = false;

        const display = document.getElementById('display');
        const locker = document.getElementById('locker');
        const envOverlay = document.getElementById('env-overlay');
        const envelope = document.getElementById('envelope');
        const envTo = document.getElementById('env-to');
        const letterOvl = document.getElementById('letter-overlay');
        const closeBtn = document.getElementById('close-btn');
        const wrongHint = document.getElementById('wrong-hint');
        const bgMusic = document.getElementById('bg-music');
        const photoStrip = document.getElementById('photo-strip');
        const photoStripGrid = document.getElementById('photo-strip-grid');
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxCaption = document.getElementById('lightbox-caption');

        // TICKS
        const tc = document.getElementById('ticks');
        for (let i = 0; i < 40; i++) { const t = document.createElement('div'); t.className = 'dial-tick'; t.style.transform = `rotate(${i * 9}deg)`; if (i % 4 === 0) { t.style.height = '12px'; t.style.background = '#aaa'; } tc.appendChild(t); }

        // PETALS
        const petC = document.getElementById('petals');
        function spawnPetal() {
            const p = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            p.setAttribute('viewBox', '0 0 60 80');
            p.setAttribute('width', 12 + Math.random() * 18);
            p.classList.add('petal');
            p.style.left = Math.random() * 100 + '%';
            p.style.animationDuration = 4 + Math.random() * 6 + 's';
            p.style.animationDelay = Math.random() * 2 + 's';
            if (Math.random() > .5) {
                p.innerHTML = `<path d="M30 55 C15 40 0 28 0 16 C0 6 8 0 16 0c5 0 10 3 14 8C34 3 39 0 44 0c8 0 16 6 16 16 0 12-15 24-30 39z" fill="${['#e91e63', '#f48fb1', '#ce1e5b', '#ff80ab'][Math.floor(Math.random() * 4)]}" opacity="${.5 + Math.random() * .4}"/>`;
            } else {
                p.innerHTML = `<path d="M30 5 Q15 5 10 25 Q5 50 30 75 Q55 50 50 25 Q45 5 30 5Z" fill="${['#f48fb1', '#f06292', '#ec407a', '#fce4ec'][Math.floor(Math.random() * 4)]}" opacity="${.4 + Math.random() * .4}"/>`;
            }
            petC.appendChild(p);
            setTimeout(() => p.remove(), 12000);
        }
        setInterval(spawnPetal, 400);
        for (let i = 0; i < 15; i++) setTimeout(spawnPetal, i * 200);

        // PARALLAX
        document.addEventListener('mousemove', e => {
            if (!isLocked) return;
            const rx = (window.innerHeight / 2 - e.clientY) / 40;
            const ry = (e.clientX - window.innerWidth / 2) / 40;
            locker.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`;
        });

        // KEYPAD
        document.querySelectorAll('.num-btn').forEach(btn => {
            btn.addEventListener('click', e => {
                if (!isLocked) return;
                const val = e.target.dataset.val;
                if (val === 'clear') { currentCode = ""; }
                else if (currentCode.length < 4) { currentCode += val; }
                updateDisplay();
                if (currentCode.length === 4) checkCode();
            });
        });

        function updateDisplay() { let t = ''; for (let i = 0; i < 4; i++) t += currentCode[i] || '-'; display.textContent = t; }

        function checkCode() {
            const name = PIN_LOOKUP[currentCode];
            if (name) {
                unlockSequence(name);
            } else {
                locker.classList.add('shake');
                display.style.color = '#ff0000';
                wrongHint.classList.add('show');
                setTimeout(() => {
                    locker.classList.remove('shake');
                    display.style.color = '';
                    currentCode = '';
                    updateDisplay();
                    wrongHint.classList.remove('show');
                }, 1200);
            }
        }

        // UNLOCK
        function unlockSequence(name) {
            isLocked = false;
            selectedName = name;
            display.textContent = "OPEN";
            display.style.color = '#4caf50';

            // Play background music
            bgMusic.currentTime = 0;
            bgMusic.volume = 0.7;
            bgMusic.play().catch(() => { });

            // Populate
            document.getElementById('letter-dear').textContent = `Dear ${name},`;
            document.getElementById('letter-body').innerHTML = PEOPLE[name].letter.replace(/\n\n/g, '<br><br>');
            envTo.textContent = `To: ${name}`;

            // Populate photos in strip
            populatePhotoStrip(name);

            // Open door + confetti
            setTimeout(() => {
                locker.classList.add('open');
                fireConfetti(100);
            }, 400);

            // Show envelope overlay
            setTimeout(() => {
                envOverlay.classList.add('active');
                envelopeClicked = false;
            }, 2000);

            // Animate envelope in
            setTimeout(() => {
                envelope.classList.add('enter');
            }, 2200);
        }

        // CLICK ENVELOPE TO OPEN
        document.getElementById('env-click-area').addEventListener('click', () => {
            if (envelopeClicked) return;
            envelopeClicked = true;

            // Open flap + break wax seal
            envelope.classList.add('opened');

            // Hearts burst from envelope center
            setTimeout(() => fireConfetti(250), 500);

            // Fade out envelope
            setTimeout(() => {
                envelope.classList.add('fade-out');
            }, 1800);

            // Show letter after envelope gone
            setTimeout(() => {
                envOverlay.classList.remove('active');
                envelope.classList.remove('enter', 'opened', 'fade-out');

                letterOvl.classList.add('active');
                closeBtn.style.display = 'flex';
                fireConfetti(80);
            }, 2600);
        });

        // CLOSE LETTER
        function closeLetter() {
            letterOvl.classList.remove('active');
            closeBtn.style.display = 'none';

            // Fade out music
            let fadeVol = bgMusic.volume;
            const fadeInterval = setInterval(() => {
                fadeVol -= 0.05;
                if (fadeVol <= 0) {
                    clearInterval(fadeInterval);
                    bgMusic.pause();
                    bgMusic.currentTime = 0;
                    bgMusic.volume = 0.7;
                } else {
                    bgMusic.volume = fadeVol;
                }
            }, 80);

            setTimeout(() => {
                locker.classList.remove('open');
                display.style.color = '';
                currentCode = '';
                updateDisplay();
                isLocked = true;
                envelopeClicked = false;
            }, 600);
        }

        // ===== PHOTO STRIP POPULATION =====
        function populatePhotoStrip(name) {
            const folder = PHOTO_FOLDERS[name];
            const files = PHOTO_FILES[name] || [];
            photoStripGrid.innerHTML = '';

            if (files.length === 0) {
                photoStrip.style.display = 'none';
                return;
            }

            photoStrip.style.display = 'flex';
            const rotations = [-4, -2, 3, -1, 2, -3, 4, -2, 1, -5];
            const tapeRotations = [-3, 2, -1, 4, -2, 3, -4, 1, 5, -2];

            files.forEach((file, i) => {
                const rot = rotations[i % rotations.length];
                const tapeRot = tapeRotations[i % tapeRotations.length];
                const caption = file.replace(/\.[^/.]+$/, '').replace(/[-_]/g, ' ');

                const card = document.createElement('div');
                card.className = 'polaroid';
                card.style.setProperty('--rot', rot + 'deg');
                card.style.animation = `polaroidIn .5s cubic-bezier(.34,1.56,.64,1) ${i * 150 + 300}ms both`;
                card.innerHTML = `
                    <div class="polaroid-tape" style="--tape-rot:${tapeRot}deg"></div>
                    <img src="photos/${folder}/${file}" alt="photo" onerror="this.style.background='linear-gradient(135deg,#f8bbd0,#e1bee7)';this.alt='\u{1F495}'">
                `;
                card.addEventListener('click', () => {
                    lightboxImg.src = `photos/${folder}/${file}`;
                    lightbox.classList.add('active');
                });
                photoStripGrid.appendChild(card);
            });
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
        }

        // CONFETTI
        function fireConfetti(count) {
            const colors = ['#e91e63', '#f48fb1', '#ff80ab', '#fff', '#c62828', '#fce4ec', '#ff5252', '#ff1744'];
            for (let i = 0; i < count; i++) {
                const el = document.createElement('div');
                el.classList.add('confetti-piece');
                if (Math.random() > .35) {
                    const sz = 8 + Math.random() * 14;
                    el.innerHTML = `<svg width="${sz}" height="${sz}" viewBox="0 0 24 24" fill="${colors[Math.floor(Math.random() * colors.length)]}"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`;
                } else {
                    const s = 4 + Math.random() * 8;
                    el.style.width = s + 'px'; el.style.height = s + 'px';
                    el.style.background = colors[Math.floor(Math.random() * colors.length)];
                    el.style.borderRadius = Math.random() > .5 ? '50%' : '2px';
                }
                el.style.left = '50%'; el.style.top = '50%';
                document.body.appendChild(el);
                const angle = Math.random() * Math.PI * 2;
                const v = 8 + Math.random() * 18;
                const dx = Math.cos(angle) * v * 30;
                const dy = Math.sin(angle) * v * 30 - Math.random() * 200;
                const rot = Math.random() * 1080;
                const dur = 1200 + Math.random() * 1800;
                el.animate([
                    { transform: 'translate(-50%,-50%) scale(0) rotate(0)', opacity: 1 },
                    { transform: `translate(calc(-50% + ${dx}px),calc(-50% + ${dy}px)) scale(1) rotate(${rot}deg)`, opacity: 0 }
                ], { duration: dur, easing: 'cubic-bezier(.25,1,.5,1)', fill: 'forwards' });
                setTimeout(() => el.remove(), dur);
            }
        }
    </script>
</body>

</html>